---
description: DefectFlow Project Development & Deployment Standards
---

# 📜 DefectFlow 작업 규칙 및 검증 가이드

이 문서는 `defect_manage` 프로젝트의 코드 품질을 유지하고, 기능 수정 시 발생하는 퇴보(Regression)를 방지하기 위한 필독 작업 지침입니다. 모든 수정 작업 시 이 규칙을 최우선으로 준수해야 합니다.

## 🧠 스마트 작업 3대 핵심 요구사항 (USER Requirements)
사용자님이 정의한 이 세 가지 원칙은 단순한 기술 규칙을 넘어, 모든 작업의 성공 여부를 결정하는 핵심 요구사항입니다.

1.  **깊이 있는 영향도 분석 (Impact Analysis)**: 코드 수정 전 전역적인 사이드 이펙트를 분석하여 기존 기능(특히 테스트벤치 캡처/연동)이 깨지는 것을 방지합니다.
2.  **선제적 문제 대응 (Proactive Debugging)**: 라이브러리 참조나 환경 차이 등 잠재적 오류 요소를 미리 파악하여 보강 코드를 선제적으로 적용합니다.
3.  **'First-Time-Right' (한 번에 완벽하게)**: 반복 수정을 지양하고, 한 번의 배포로 요구사항을 완벽히 충족하여 사용자 시간을 최소 3배 이상 절약합니다.


## 1. 🏗️ 아키텍처 및 데이터 연동 규칙
*   **Test Bench 연동 보존**: `app.js`에서 라우팅(`navigate`)이나 초기화 로직을 수정할 때, `localStorage`의 `pending_defect` 데이터가 삭제되지 않도록 주의하십시오. (특히 `Standalone` 모드일 때 초기화 금지)
*   **모드 구분**: `this.state.isStandalone` 상태를 항상 체크하여 팝업 모드(테스트벤치 등록 창)와 일반 대시보드 모드의 레이아웃/로직이 충돌하지 않게 하십시오.
*   **라이브러리 참조**: 브라우저 환경에서 `bcryptjs` 등 외부 라이브러리를 사용할 때는 전역 객체명(예: `dcodeIO.bcrypt`)을 정확히 확인하고 Alias를 설정하십시오.

## 2. 🔐 인증 및 보안 관리
*   **Redirect 보호**: 로그인하지 않은 사용자는 `login` 또는 `signup` 외의 페이지 접근을 차단하되, 로그인 후에는 **원래 가려던 페이지로 자동 리다이렉트**하는 로직을 유지하십시오.
*   **비밀번호 처리**: 모든 비밀번호는 클라이언트 측에서 `bcrypt`로 암호화 후 서버(DB)에 전달해야 합니다.
*   **사용자 필드**: 회원가입 시 `name`, `email`, `department`, `role`은 필수 수집 대상입니다.

## 3. 🚀 배포 및 완료 규칙 (Atomic Task)
작업 완료 시 다음 단계를 단일 트랜잭션처럼 처리해야 합니다:
1.  **로컬 검증**: 수정 사항이 기존 기능(특히 테스트 벤치 캡처)을 깨뜨리지 않는지 시뮬레이션.
2.  **Git 커밋 & 푸시**: `git add .`, `git commit -m "..."`, `git push origin main` 순차 실행.
3.  **로그 확인**: 푸시 완료 후 터미널의 성공 메시지 확인.
4.  **사용자 안내**: 배포 완료 사실과 함께 `Ctrl + F5` 새로고침의 필요성을 명시.

## 4. 🎨 UI/UX 및 디자인 표준
*   **Premium Aesthetics**: 단순 UI가 아닌, 그라데이션, 애니메이션(`animate-in`), 적절한 여백을 사용한 고품질 디자인 유지.
*   **Standalone 최적화**: 팝업 모드에서는 사이드바를 숨기고 폼이 전체 창을 사용하도록 CSS 클래스(`standalone-mode`, `logged-in`) 관리.

---
**⚠️ 매 작업 전 이 규칙을 검토하여 반복 작업을 방지하고 20분 내 완벽한 결과물을 지향합니다.**
