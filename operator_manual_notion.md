# ğŸ› ï¸ DefectFlow ìš´ì˜ì ë§¤ë‰´ì–¼ (Operator Manual)

> **Category**: System Management  
> **Updated**: 2026-02-19  
> **Version**: 2.0.0 (Cloud Native / Supabase)

---

## ğŸ“‘ ëª©ì°¨
- [1. ì‹œìŠ¤í…œ ê°œìš”](#1-ì‹œìŠ¤í…œ-ê°œìš”)
- [2. ì„¤ì¹˜ ë° êµ¬ì„± ê°€ì´ë“œ](#2-ì„¤ì¹˜-ë°-êµ¬ì„±-ê°€ì´ë“œ)
- [3. í´ë¼ìš°ë“œ ì¸í”„ë¼ ê´€ë¦¬ (Supabase)](#3-í´ë¼ìš°ë“œ-ì¸í”„ë¼-ê´€ë¦¬-supabase)
- [4. ê¶Œí•œ ë° ë³´ì•ˆ ì„¤ì • (Authentication)](#4-ê¶Œí•œ-ë°-ë³´ì•ˆ-ì„¤ì •-authentication)
- [5. ìŠ¤ë§ˆíŠ¸ ì‘ì—… ìš´ì˜ ì›ì¹™](#5-ìŠ¤ë§ˆíŠ¸-ì‘ì—…-ìš´ì˜-ì›ì¹™)
- [6. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#6-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)

---

## 1. ì‹œìŠ¤í…œ ê°œìš”
DefectFlowëŠ” GitHub Pages(Frontend)ì™€ Supabase(Backend as a Service)ë¥¼ ê²°í•©í•œ ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ ê¸°ë°˜ì˜ ê²°í•¨ ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ë³¸ ë§¤ë‰´ì–¼ì€ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œì˜ ë°ì´í„° ê´€ë¦¬ ë° ìš´ì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.

> ğŸ’¡ **Core Stack**: HTML5/Vanilla JS/CSS3, Supabase (Auth/DB/Storage), Bcrypt.js

---

## 2. ì„¤ì¹˜ ë° êµ¬ì„± ê°€ì´ë“œ

### ğŸ—ï¸ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (`js/config.js`)
ì‹œìŠ¤í…œ ê°€ë™ì„ ìœ„í•´ Supabase í”„ë¡œì íŠ¸ì˜ API í‚¤ ì •ë³´ê°€ í•„ìš”í•©ë‹ˆë‹¤.
*   **SUPABASE_URL**: Supabase í”„ë¡œì íŠ¸ ì£¼ì†Œ
*   **SUPABASE_KEY**: ì•„ë…¼(anon) í‚¤ (Public API Key)

### ğŸš€ ë°°í¬ í”„ë¡œì„¸ìŠ¤
1.  **í”„ë¡ íŠ¸ì—”ë“œ**: GitHub Repositoryì— Push ì‹œ GitHub Actionsë¥¼ í†µí•´ ìë™ ë°°í¬ë©ë‹ˆë‹¤.
2.  **ë°±ì—”ë“œ**: Supabase ëŒ€ì‹œë³´ë“œì—ì„œ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ(`db_schema.md`)ë¥¼ ì ìš©í•©ë‹ˆë‹¤.
3.  **ìŠ¤í† ë¦¬ì§€**: `defect-images` ë²„í‚·ì„ ìƒì„±í•˜ê³  Public ê¶Œí•œìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.

---

## 3. í´ë¼ìš°ë“œ ì¸í”„ë¼ ê´€ë¦¬ (Supabase)

### ğŸ—„ï¸ Database ê´€ë¦¬ (PostgreSQL)
*   **í…Œì´ë¸”**: `defects` (ê²°í•¨ ë°ì´í„°), `users` (ì‚¬ìš©ì ê³„ì •)
*   **ë°±ì—…**: Supabase ë‚´ë¶€ ë°±ì—… ê¸°ëŠ¥ì„ í™œìš©í•˜ê±°ë‚˜ í”„ë¡œì íŠ¸ ë‚´ `Excel Export` ê¸°ëŠ¥ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
*   **ì´ë¯¸ì§€ ì €ì¥**: ëª¨ë“  ê²°í•¨ ìŠ¤í¬ë¦°ìƒ·ì€ `Supabase Storage`ì— ìë™ ì €ì¥ë˜ë©° í•„ë“œì—ëŠ” Public URLì´ ê¸°ë¡ë©ë‹ˆë‹¤.

---

## 4. ê¶Œí•œ ë° ë³´ì•ˆ ì„¤ì • (Authentication)

### ğŸ›¡ï¸ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜
*   **ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”**: ëª¨ë“  ë¹„ë°€ë²ˆí˜¸ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ `BCrypt`ë¡œ í•´ì‹±ë˜ì–´ ì „ì†¡ ë° ì €ì¥ë©ë‹ˆë‹¤. ìš´ì˜ìë„ í‰ë¬¸ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
*   **ê¶Œí•œ ì—­í•  (Roles)**:
    *   **í…ŒìŠ¤í„°**: ê²°í•¨ ë“±ë¡ ë° ë³¸ì¸ ë“±ë¡ ê²°í•¨ ìˆ˜ì •.
    *   **ì¡°ì¹˜ì**: ê²°í•¨ ìƒíƒœ ë³€ê²½ ë° ì¡°ì¹˜ ê²°ê³¼ ì…ë ¥ ê°€ëŠ¥.
    *   **ê´€ë¦¬ì**: ì‚¬ìš©ì ê´€ë¦¬, í™˜ê²½ ì„¤ì •, ì‹œìŠ¤í…œ ì „ì—­ ë°ì´í„° ì‚­ì œ ê¶Œí•œ.

### ğŸ‘¥ ì‚¬ìš©ì ìƒíƒœ ë° ì´ˆê¸°í™”
*   `needs_pw_reset` í•„ë“œê°€ `true`ì¸ ê²½ìš°, ë¡œê·¸ì¸ ì‹œ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ í™”ë©´ìœ¼ë¡œ ê°•ì œ ìœ ë„ë©ë‹ˆë‹¤.
*   ê³„ì • ì˜¤ë‚¨ìš© ë°©ì§€ë¥¼ ìœ„í•´ `status`ê°€ 'ì‚¬ìš©ì¤‘ì§€'ì¸ ê³„ì •ì€ ì¦‰ì‹œ ì‹œìŠ¤í…œ ì ‘ê·¼ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤.

---

## 5. ìŠ¤ë§ˆíŠ¸ ì‘ì—… ìš´ì˜ ì›ì¹™
ì‹œìŠ¤í…œ ìš´ì˜ ë° ìœ ì§€ë³´ìˆ˜ ì‹œ ë‹¤ìŒì˜ **3ëŒ€ í•µì‹¬ ìš”êµ¬ì‚¬í•­**ì„ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤.

1.  **ì˜í–¥ë„ ë¶„ì„ (Impact Analysis)**: ê¸°ëŠ¥ ìˆ˜ì • ì‹œ ê¸°ì¡´ 'í…ŒìŠ¤íŠ¸ ë²¤ì¹˜ ì—°ë™' ê¸°ëŠ¥ íŒŒì† ì—¬ë¶€ë¥¼ ë°˜ë“œì‹œ ì„ ì œ í™•ì¸í•˜ì‹­ì‹œì˜¤.
2.  **ì„ ì œì  ë¬¸ì œ ëŒ€ì‘**: ë¸Œë¼ìš°ì € í™˜ê²½ ì°¨ì´ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì°¸ì¡° ì˜¤ë¥˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•œ ë³´ê°• ì½”ë“œë¥¼ í•­ìƒ í¬í•¨í•˜ì‹­ì‹œì˜¤.
3.  **í•œ ë²ˆì— ì™„ë²½í•˜ê²Œ (First-Time-Right)**: ì¦ì€ ë°°í¬ë¡œ ì¸í•œ ì‚¬ìš©ì í”¼ë¡œë„ë¥¼ ì¤„ì´ê¸° ìœ„í•´, í•œ ë²ˆì˜ ì‘ì—…ìœ¼ë¡œ ëª¨ë“  ìš”êµ¬ì‚¬í•­ì„ ì™„ìˆ˜í•œ í›„ ê²€ì¦ ì™„ë£Œ ìƒíƒœë¡œ ë°°í¬í•˜ì‹­ì‹œì˜¤.

---

## 6. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

| ìƒ í™© | í•´ê²° ë°©ë²• |
| :--- | :--- |
| **ë¡œê·¸ì¸ í›„ í™”ë©´ ì•ˆ ë‚˜ì˜´** | `returnTo` ì„¸ì…˜ ë°ì´í„° ë° `window.location.hash` ìƒíƒœë¥¼ í™•ì¸í•˜ì‹­ì‹œì˜¤. |
| **ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨** | Supabase Storageì˜ `defect-images` ë²„í‚· ê¶Œí•œ(Public Read)ì„ í™•ì¸í•˜ì‹­ì‹œì˜¤. |
| **í…ŒìŠ¤íŠ¸ ë²¤ì¹˜ ì—°ë™ ì˜¤ë¥˜** | íŒì—… ì°½ì˜ URL íŒŒë¼ë¯¸í„°ê°€ `?mode=standalone#register` ìˆœì„œì¸ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤. |
| **í™”ë©´ ìº¡ì²˜ ê³µë°± ë°œìƒ** | í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì‚¬ì´íŠ¸ì˜ CORS ì •ì±… ë° `html2canvas` ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì—¬ë¶€ë¥¼ í™•ì¸í•˜ì‹­ì‹œì˜¤. |

---

> ğŸ“® **ìš´ì˜ ì§€ì›**  
> ì‹œìŠ¤í…œ ì •ì±… ë¬¸ì˜ ë° ì¸í”„ë¼ í™•ì¥ì€ **AI ì „ëµ ìš´ì˜íŒ€**ìœ¼ë¡œ ì „ë‹¬ ë°”ëë‹ˆë‹¤.  
> ì‘ì—… ê¸°ë¡ ë° íˆìŠ¤í† ë¦¬ëŠ” `d:\Workspace\history\` í´ë”ë¥¼ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.

---
*Updated and maintained by Antigravity AI Assistant.*
